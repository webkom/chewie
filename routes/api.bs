import express
import ../deploy
import ./handle-error as handleError

export router

router = express.Router()

# Need to add authentication middleware
router.post('/deploy/:projectName', (req, res, next) ->
  deploy(req.params.projectName, req.query.debug)
  .then((output) ->
    res.send(output)
  )
  .catch((err) ->
    handleError(err, res)
  )
)

router.post('/github', (req, res) ->

)
